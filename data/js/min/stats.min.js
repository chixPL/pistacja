import"../../lib/chartjs/chart.umd.min.js";import{DateTime}from"../../lib/luxon/luxon.min.js";function load(){let start=new Date;function getRandomData(t){return Array.from({length:t},(()=>Math.ceil(30*Math.random())))}function config(t,a,e){return{labels:["Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota","Niedziela"],datasets:[{label:t,data:a,backgroundColor:e,borderWidth:1}],options:{scales:{y:{beginAtZero:!0}}}}}const ctx1=document.getElementById("chart1"),ctx2=document.getElementById("chart2"),ctx3=document.getElementById("chart3"),ctx4=document.getElementById("chart4"),chart1=new Chart(ctx1,{type:"bar",data:config("Temperatura (°C)",getRandomData(7),"#B20D3B")}),chart2=new Chart(ctx2,{type:"bar",data:config("Prędkość wiatru (km/h)",getRandomData(7),"#FF457A")}),chart3=new Chart(ctx3,{type:"bar",data:config("Ciśnienie (hPa)",getRandomData(7),"#25DB3C")}),chart4=new Chart(ctx4,{type:"bar",data:config("Opady (mm)",getRandomData(7),"#0F8F1E")}),bcb=document.getElementById("bar_chart"),lcb=document.getElementById("line_chart");function viewBar(){for(let i=1;i<5;i++){let current_chart=eval("chart"+i);current_chart.config.type="bar",current_chart.update()}bcb.classList.add("btn-primary"),bcb.classList.remove("btn-secondary"),lcb.classList.add("btn-secondary")}function viewLine(){for(let i=1;i<5;i++){let current_chart=eval("chart"+i);current_chart.config.type="line",current_chart.update()}lcb.classList.add("btn-primary"),lcb.classList.remove("btn-secondary"),bcb.classList.add("btn-secondary")}bcb.addEventListener("click",viewBar,!1),lcb.addEventListener("click",viewLine,!1);let data_dict={};function viewDays(num){console.log("Viewing days: ",num),void 0===data_dict[num]&&(data_dict[num]=getRandomData(num));for(let i=1;i<5;i++){let current_chart=eval("chart"+i);current_chart.data.labels=[],current_chart.data.datasets[0].data=[],current_chart.data.datasets[0].data=data_dict[num],current_chart.data.labels=7==num?["Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota","Niedziela"]:[...Array(num).keys()].map((t=>t+1)),current_chart.options.plugins.tooltip.callbacks.title=function(t){return DateTime.now().minus({days:num-parseInt(t[0].label)}).setLocale("pl").toLocaleString(DateTime.DATE_FULL)},current_chart.update()}}let btn1=document.getElementById("btnradio1"),btn2=document.getElementById("btnradio2"),btn3=document.getElementById("btnradio3");btn1.addEventListener("click",(function(t){viewDays(7)})),btn2.addEventListener("click",(function(t){viewDays(14)})),btn3.addEventListener("click",(function(t){viewDays(30)}))}window.onload=t=>{load()};