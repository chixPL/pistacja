import{DateTime as t}from"../../lib/luxon/luxon.min.js";function e(t){document.querySelector(".fc-mynext-button").setAttribute("style","background-color: "+t+" !important")}async function n(t="",e=""){(new FormData).append("date",e);return(await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"date="+e})).json()}document.addEventListener("DOMContentLoaded",(function(){var o=document.getElementById("calendar"),r=new FullCalendar.Calendar(o,{themeSystem:"bootstrap5",height:"auto",buttonIcons:{myprev:"chevron-left",mynext:"chevron-right"},customButtons:{mynext:{click:function(){t.fromISO(r.getDate().toISOString()).plus({months:1}).toFormat("yyyy-MM")<=t.now().toFormat("yyyy-MM")?r.next():e("#8d8f91")}},myprev:{click:function(){e("#B20D3B"),r.prev()}},mytoday:{text:"Dziś",click:function(){e("#8d8f91"),r.today()}}},headerToolbar:{start:"title",right:"mytoday myprev,mynext"},initialView:"dayGridMonth",firstDay:1,locale:"pl",dateClick:function(t){const e=document.querySelector(".modal-title"),o=document.querySelector(".modal-body");e.innerHTML="Data: "+t.dateStr,n(".db/date_res.php",t.dateStr).then((t=>{if(o.innerHTML="",null==t)o.innerHTML+="<p>Nie znaleziono danych dla tego dnia.</p>";else{let e=JSON.parse(JSON.stringify(t));o.innerHTML+='<p class="result"><b>Temperatura:</b> '+e.temperature+"°C</p>",o.innerHTML+='<p class="result"><b>Prędkość wiatru:</b> '+e.wind_speed_kmh+"km/h</p>",o.innerHTML+='<p class="result"><b>Ciśnienie:</b> '+e.pressure+"hPa</p>",o.innerHTML+='<p class="result"><b>Opady:</b> '+e.rain_count+"mm</p>",o.innerHTML+='<p class="result"><b>Wilgotność:</b> '+e.humidity+"%</p>"}}));new bootstrap.Modal(document.getElementById("dateModal")).show()}});r.render()}));